<!DOCTYPE html>
<html>

<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lato:wght@900&family=Roboto+Condensed:wght@500&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@900&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@500;900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="main.css">
  <meta charset="UTF-8">
  <title>–ú–∞–≥–∞–∑–∏–Ω</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <header>
    <div class="categories">
      <div class="category combo-set" onclick="displayProduct('combo-set')"> 
        <h2>–ö–æ–º–±–æ –°–µ—Ç—ã</h2>
      </div>

      <div class="category roll-set" onclick="displayProduct('roll-set')">
        <h2>–ù–∞–±–æ—Ä—ã –†–æ–ª–ª–æ–≤</h2>
      </div>

      <div class="category number-rolls" onclick="displayProduct('number-rolls')">
        <h2>–¶–∏—Ñ—Ä–∞ –†–æ–ª–ª—ã</h2>
      </div>

      <div class="category fish-rolls" onclick="displayProduct('fish-rolls')">
        <h2>–§–∏—à –†–æ–ª–ª—ã</h2>
      </div>

      <div class="category nova-set" onclick="displayProduct('nova-set')">
        <h2>–ù–æ–≤–∞ –°–µ—Ç—ã</h2>
      </div>

      <div class="category sushi-set" onclick="displayProduct('sushi-set')">
        <h2>–ö–æ–º–ø–ª–µ–∫—Ç—ã –°—É—à–∏</h2>
      </div>

      <div class="category classic-sushi" onclick="displayProduct('classic-sushi')">
        <h2>–°—É—à–∏ –ö–ª–∞—Å—Å–∏–∫–∞</h2>
      </div>
    </div>
    
 <div class="action">
 <h1 class="headup">–ü—Ä–æ–º–æ-–∫–æ–¥: üëâ –î–µ–Ω—å –†–æ–∂–¥–µ–Ω–∏—è üëà</h1>
<h1 class="headup1">–î–∞—Ä–∏–º 2 —Ä–æ–ª–ª–∞ –≤ –î–µ–Ω—å –†–æ–∂–¥–µ–Ω–∏—è –∫ –∑–∞–∫–∞–∑—É –æ—Ç 1500 —Ä—É–±.</h1>
 </div>


   <h2 class="mainmain"    id="mainText">wdwd</h2>


    <div id="cartSection" style="display:none;">
      <h2></h2>
    </div>
     
    <div class="bottomCart" id="totalPriceSection">
      <h2 class="g1">–û–±—â–∞—è —Å—É–º–º–∞: 0 ‚ÇΩ</h2>
    </div>

  </header>

  <section id='productSection'>
    <!-- Iframe content / Product display goes here -->
  </section>

  <div id="myModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <span class="close">‚Üê&nbsp</span>
        <h2 class="">–ö–æ—Ä–∑–∏–Ω–∞</h2>

      </div>
      <div id="paymentModal" class="modal">
        <div class="modal-content">
          <div class="modal-header">
            <span class="paymentClose">‚Üê&nbsp</span>
            <h2 class="ots">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</h2>
          </div>
          <button class="form-control1" onclick="setPaymentMethod('–ù–∞–ª–∏—á–Ω—ã–º–∏ –∫—É—Ä—å–µ—Ä—É')">–ù–∞–ª–∏—á–Ω—ã–º–∏ –∫—É—Ä—å–µ—Ä—É</button>
          <button class="form-control1" onclick="setPaymentMethod('–ö–∞—Ä—Ç–æ–π –∫—É—Ä—å–µ—Ä—É')">–ö–∞—Ä—Ç–æ–π –∫—É—Ä—å–µ—Ä—É</button>
          <h>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</h>
          <h>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</h>
          <h>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</h>       
        </div>
      </div>
      <div id="productModal" class="modal">
        <div class="modal-content1">
          <div class="modal-header1">
            <span class="productClose">‚Üê&nbsp</span>
            <h2 class="">–ö–æ–º–ø–ª–µ–∫—Ç—ã –°—É—à–∏</h2>
          </div>
          <div id="productModalContent">
            <!-- Product content goes here -->
          </div>
          <h>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</h>
        </div>
      </div>
      <div id="cartModalContent"></div>
      <div class="extra-details">
        <div class="input-group">
          
          <button type="button" id="selectPaymentBtn" class="form-control">–í—ã–±—Ä–∞—Ç—å —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</button>
        </div>

        <div class="input-group">
         
          <input type="text" id="orderComment" class="form-control" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É">
        </div>

        <div class="input-group">
          
          <input type="text" id="promoCode" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥">
        </div>
        <div class="input-group">
        
          <textarea id="deliveryAddress" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏" onclick="openModal()"></textarea>
       </div>
        </div>
        <div class="input-group">
          <span id="cartTotalPrice" class="form-control">–û–±—â–∞—è —Å—É–º–º–∞: 0 ‚ÇΩ</span>
        </div>
        <div class="ooo">
          <button id="addToOrderBtn" onclick="openProductModal('sushi-set')">–î–æ–±–∞–≤–∏—Ç—å –∫ –∑–∞–∫–∞–∑—É</button>
          <button id="checkoutBtn">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
          <h>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</h>
          <h>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</h>
        </div>
      </div>
      
      
    </div>
  </div>
  <div id="product-description-modal" class="modal-show">
    <div class="modal-content">
      <div class="modal-header5">

        <span onclick="closeProductDescription()">–û–ø–∏—Å–∞–Ω–∏–µ x</span>

      </div>
      <div class="modal-body">
        <img id="product-description-img">
        <div class="headddd">
          <h2 id="product-description-header"></h2>
          <p id="product-description-price"></p>
        </div>

        <p id="product-description-content"></p>
        <div class="product-description-buttons">
        </div>


      </div>
    </div>
  </div>
  <div id="myModal4" class="modal">
  <div class="modal-content">
    <div class="polka0">
    <span class="close" onclick="closeModal()">‚Üê</span>
    <h2 class="adresss">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∞–¥—Ä–µ—Å</h2>
    </div>
    <div class="polka">
    <input type="text" id="cityInput" placeholder="–ì–æ—Ä–æ–¥">
    <input type="text" id="streetInput" placeholder="–£–ª–∏—Ü–∞">
    </div>
    <div class="polka1">
    <input type="text" id="houseInput" placeholder="–î–æ–º">
    <input type="text" id="buildingInput" placeholder="–ö–æ—Ä–ø./—Å—Ç—Ä.">
    </div>
    <div class="polka2">
    <input type="text" id="entranceInput" placeholder="–ü–æ–¥—ä–µ–∑–¥">
    <input type="text" id="intercomInput" placeholder="–î–æ–º–æ—Ñ–æ–Ω">
    </div>
    <div class="polka3">
    <input type="text" id="apartmentInput" placeholder="–ö–≤/–æ—Ñ–∏—Å">
    <input type="text" id="floorInput" placeholder="–≠—Ç–∞–∂">
    </div>
  
    <textarea id="descriptionInput" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ"></textarea>
    <button class="save"  onclick="submitForm()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    <button class="button-—Åode-for-pickup">–°–∞–º–æ–≤—ã–≤–æ–∑</button>
  </div>
</div>
</body>
<script>

  var products = {}; // Will be used to store product information



  var cart = [];
  function loadProducts() {
    products = {
      'combo-set': [{ 'img': 'img/1.jpg', 'name': '–ö–æ–º–±–æ 1Ô∏è‚É£9Ô∏è‚É£', 'price': '1165 ‚ÇΩ', 'grams': '100 –≥', 'description': '–ë–æ–ª—å—à–æ–π —á–∏–∑–º–∞–∫–∏ –æ–≥—É—Ä–µ—Ü, –¢–æ—Ä—Ç–∏–ª—å—è—Å, –î—Ä–∞–∫–æ–Ω –∫–∞–ª–∏—Ñ–æ—Ä–Ω–∏–π—Å–∫–∏–π, –§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è –∫–ª–∞—Å—Å–∏–∫–∞.–í–µ—Å: 1115–≥—Ä' },

      { 'img': 'img/2.jpg', 'name': '–ö–æ–º–±–æ 1Ô∏è‚É£8Ô∏è‚É£', 'price': '1210 ‚ÇΩ', 'grams': '110 –≥' },
      { 'img': 'img/3.jpg', 'name': '–ö–æ–º–±–æ 1Ô∏è‚É£7Ô∏è‚É£', 'price': '1290 ‚ÇΩ', 'grams': '100 –≥' },
      { 'img': 'img/4.jpg', 'name': '–ö–æ–º–±–æ 1Ô∏è‚É£6Ô∏è‚É£', 'price': '1350 ‚ÇΩ', 'grams': '120 –≥' }],
      'roll-set': [
        { 'img': 'img/1.jpg', 'name': '–ö–æ–º–±–æ 19', 'price': '1165 ‚ÇΩ' },
        { 'img': 'img/2.jpg', 'name': '–ö–æ–º–±–æ 18', 'price': '1210 ‚ÇΩ' },
        { 'img': 'img/3.jpg', 'name': '–ö–æ–º–±–æ 17', 'price': '1290 ‚ÇΩ' },
        { 'img': 'img/4.jpg', 'name': '–ö–æ–º–±–æ 16', 'price': '1350 ‚ÇΩ' }
      ],
      'number-rolls': [
        { 'img': 'img/1.jpg', 'name': '–ö–æ–º–±–æ 19', 'price': '1165 ‚ÇΩ' },
        { 'img': 'img/2.jpg', 'name': '–ö–æ–º–±–æ 18', 'price': '1210 ‚ÇΩ' },
        { 'img': 'img/3.jpg', 'name': '–ö–æ–º–±–æ 17', 'price': '1290 ‚ÇΩ' },
        { 'img': 'img/4.jpg', 'name': '–ö–æ–º–±–æ 16', 'price': '1350 ‚ÇΩ' }
      ],
      'fish-rolls': [
        { 'img': 'img/1.jpg', 'name': '–ö–æ–º–±–æ 19', 'price': '1165 ‚ÇΩ' },
        { 'img': 'img/2.jpg', 'name': '–ö–æ–º–±–æ 18', 'price': '1210 ‚ÇΩ' },
        { 'img': 'img/3.jpg', 'name': '–ö–æ–º–±–æ 17', 'price': '1290 ‚ÇΩ' },
        { 'img': 'img/4.jpg', 'name': '–ö–æ–º–±–æ 16', 'price': '1350 ‚ÇΩ' }
      ],
      'nova-set': [
        { 'img': 'img/1.jpg', 'name': '–ö–æ–º–±–æ 19', 'price': '1165 ‚ÇΩ' },
        { 'img': 'img/2.jpg', 'name': '–ö–æ–º–±–æ 18', 'price': '1210 ‚ÇΩ' },
        { 'img': 'img/3.jpg', 'name': '–ö–æ–º–±–æ 17', 'price': '1290 ‚ÇΩ' },
        { 'img': 'img/4.jpg', 'name': '–ö–æ–º–±–æ 16', 'price': '1350 ‚ÇΩ' }
      ],
      'sushi-set': [
        { 'img': 'img/k7.jpg', 'name': '–ü–∞–ª–æ—á–∫–∏', 'price': '3 ‚ÇΩ', 'grams': '0 –≥' },
        { 'img': 'img/k4.jpg', 'name': '–í–∞—Å–∞–±–∏', 'price': '15 ‚ÇΩ', 'grams': '20 –≥' },
        { 'img': 'img/k6.jpg', 'name': '–ò–º–±–∏—Ä—å', 'price': '15 ‚ÇΩ', 'grams': '100 –≥' },
        { 'img': 'img/k3.jpg', 'name': '–ö–æ–º–ø–ª–µ–∫—Ç', 'price': '30 ‚ÇΩ', 'grams': '100 –≥' },
        { 'img': 'img/k5.jpg', 'name': '–°–æ–µ–≤—ã–π —Å–æ—É—Å', 'price': '15 ‚ÇΩ', 'grams': '100 –º–ª' },
        { 'img': 'img/k1.jpg', 'name': '–°–æ—É—Å —Ç–∞—Ä-—Ç–∞—Ä', 'price': '25 ‚ÇΩ', 'grams': '50 –º–ª' },
        { 'img': 'img/k2.jpg', 'name': '–°–æ—É—Å —Å–ø–∞–π—Å–∏', 'price': '25 ‚ÇΩ', 'grams': '50 –º–ª' }
      ],
      'classic-sushi': [
        { 'img': 'img/s1.jpg', 'name': '–ö–æ–º–±–æ 19', 'price': '1165 ‚ÇΩ', 'grams': '100 –≥' },
        { 'img': 'img/s2.jpg', 'name': '–ö–æ–º–±–æ 18', 'price': '1210 ‚ÇΩ', 'grams': '100 –≥' },
        { 'img': 'img/s3.jpg', 'name': '–ö–æ–º–±–æ 17', 'price': '1290 ‚ÇΩ', 'grams': '100 –≥' },
        { 'img': 'img/s4.jpg', 'name': '–ö–æ–º–±–æ 16', 'price': '1350 ‚ÇΩ', 'grams': '100 –≥' }
      ]
    }

  };
  function addToCart(category, productIndex) {
    var product = products[category][productIndex];

    // –¥–æ–±–∞–≤–ª—è–µ–º —Å–≤–æ–π—Å—Ç–≤–æ category –≤ –∫–∞–∂–¥—ã–π –ø—Ä–æ–¥—É–∫—Ç
    product.category = category;

    var existingProduct = cart.find((item) => item.name === product.name && item.category === product.category);

    if (existingProduct) {
      existingProduct.quantity++;
    } else {
      product.quantity = 1;
      cart.push(product);
    }

    displayCart();
    displayProduct(category); // update the products display
  }

  function removeFromCart(index) {
    cart.splice(index, 1);
    displayCart();
  }
  function increaseQuantityInCart(index, category) {
  cart[index].quantity++;
  displayCart();
  displayProduct(category); 
}

function decreaseQuantityInCart(index, category) {
  if (cart[index].quantity > 1) {
    cart[index].quantity--;
  } else {
    removeFromCart(index);
  }
  displayCart();
  displayProduct(category); 
}

  function displayCart() {
    const cartSection = document.getElementById('cartModalContent');
    const bottomCart = document.getElementById('totalPriceSection'); // –ü–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ bottomCart
    let totalPrice = 0;
    let innerHTML = `<h2 class="ots"></h2><div class="cart">`;

    if (cart.length > 0) {
      bottomCart.classList.add("bottomCart-show"); // Show bottomCart 
    } else {
      bottomCart.classList.remove("bottomCart-show"); // Hide bottomCart 
    }

    for (let i = 0; i < cart.length; i++) {
    const productPrice = parseInt(cart[i].price.replace(" ‚ÇΩ", ""));
    const productTotalPrice = productPrice * cart[i].quantity; // –û–±—â–∞—è —Ü–µ–Ω–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Ç–æ–≤–∞—Ä–∞
    totalPrice += productTotalPrice;
    innerHTML += `
<div class="product-details">
  <img src=${cart[i].img} alt=${cart[i].name}>
  <div>
    <div class="ed">
      <h2 class="tovartext">${cart[i].name}</h2>
      <p class="tovartext1">${productTotalPrice} ‚ÇΩ</p> <!-- –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞: —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Ç–æ–≥–æ–≤—É—é —Ü–µ–Ω—É -->
    </div>
    <div class="botb">
      <button onclick="decreaseQuantityInCart(${i}, '${cart[i].category}')">-</button>
      ${cart[i].quantity} 
      <button onclick="increaseQuantityInCart(${i}, '${cart[i].category}')">+</button>
    </div>
  </div>              
</div>`;
  }

    cartSection.innerHTML = innerHTML;
    document.getElementById('cartTotalPrice').innerText = `–û–±—â–∞—è —Å—É–º–º–∞: ${totalPrice} ‚ÇΩ`;

    document.getElementById('totalPriceSection').innerHTML = `<h2 class="g1">–û–§–û–†–ú–ò–¢–¨ –ó–ê–ö–ê–ó: ${totalPrice} ‚ÇΩ</h2>`;
  }
  
    function displayProduct(productType) {
    const section = document.getElementById('productSection');
    var innerHTML = '';
    const categoryElements = document.querySelectorAll(".category");
    categoryElements.forEach((el) => {
      // –£–¥–∞–ª—è–µ–º –∫–ª–∞—Å—Å .category-selected —É –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
      el.classList.remove("category-selected");
      // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å .category-selected –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
      if (el.classList.contains(productType)) {
        el.classList.add("category-selected");
      }
    });

    if (productType === 'combo-set') {
      document.getElementById('mainText').innerText = '–ö–æ–º–±–æ –°–µ—Ç—ã üç£'; // –ó–∞–º–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ
    } else if (productType === 'roll-set') {
      document.getElementById('mainText').innerText = '–ù–∞–±–æ—Ä—ã –†–æ–ª–ª–æ–≤ üç±';
    } else if (productType === 'number-rolls') {
      document.getElementById('mainText').innerText = '–¶–∏—Ñ—Ä–∞ –†–æ–ª–ª—ã üç£';
    } else if (productType === 'fish-rolls') {
      document.getElementById('mainText').innerText = '–§–∏—à –†–æ–ª–ª—ã üç£';
    } else if (productType === 'nova-set') {
      document.getElementById('mainText').innerText = '–ù–æ–≤–∞ –°–µ—Ç—ã üçò';
    } else if (productType === 'sushi-set') {
      document.getElementById('mainText').innerText = '–ö–æ–º–ø–ª–µ–∫—Ç—ã –°—É—à–∏ ü•°';
    } else if (productType === 'classic-sushi') {
      document.getElementById('mainText').innerText = '–°—É—à–∏ –ö–ª–∞—Å—Å–∏–∫–∞ üç£';
    }
    
    for (let i = 0; i < products[productType].length; i++) {
    const productInCartIndex = cart.findIndex(p => p.name === products[productType][i].name && p.category === productType);
    const isInCart = productInCartIndex !== -1;
    
    innerHTML += `
    <div class="product">
      <img src="${products[productType][i].img}" alt="${products[productType][i].name}" onclick="openProductDescription('${productType}', ${i})">
      <h2>${products[productType][i].name}</h2>
      <p>${products[productType][i].price} &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp ${products[productType][i].grams}</p>
      <div class="product-quantity">
  ${
    isInCart
      ? `<button class="circle-button" onclick="decreaseQuantityInCart(${productInCartIndex}, '${productType}')">&#8722;</button>
<button class="circle-button" onclick="increaseQuantityInCart(${productInCartIndex}, '${productType}')">&#43;</button>
        ${cart[productInCartIndex].quantity}`
      : `<button class="add-to-cart-btn boldMontserrat" data-category="${productType}" data-index="${i}">–î–û–ë–ê–í–ò–¢–¨ +</button>`
  }
</div>
    </div>`;
  }

    section.innerHTML = innerHTML;
  }
  
  window.onload = loadProducts;

</script>
<script>
  // Your JS for products, etc



  // Rest of your JS code
  var modal = document.getElementById("myModal");

  function openCart() {
    displayCart();
    modal.style.display = "block";
  }

  document.getElementById('totalPriceSection').addEventListener('click', openCart);

  var span = document.getElementsByClassName("close")[0];

  // —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –Ω–∞ –∫—Ä–µ—Å—Ç–∏–∫
  span.onclick = function () {
    modal.style.display = "none";
  }

  window.onclick = function (event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }

  document.getElementById('cartModalContent').style.marginTop = "10px";
</script>
<script>;
function checkInputs() {
  let address = document.getElementById("deliveryAddress"); // –≠–ª–µ–º–µ–Ω—Ç –¥–ª—è –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞
  let payment = document.getElementById("selectPaymentBtn"); // –ö–Ω–æ–ø–∫–∞ –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
  let checkoutBtn = document.getElementById("checkoutBtn"); // –ö–Ω–æ–ø–∫–∞ "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑"

  address.addEventListener("input", validateInput); // –≤–µ—à–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π
  payment.addEventListener("click", validateInput); // –≤–µ—à–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π –Ω–∞ –∫–ª–∏–∫ –ø–æ —Å–ø–æ—Å–æ–±—É –æ–ø–ª–∞—Ç—ã

  function validateInput() {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∫–Ω–æ–ø–∫–∏ –∑–∞–∫–∞–∑–∞
    if (address.value !== "" && payment.innerHTML !== "–í—ã–±—Ä–∞—Ç—å —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã") {
      checkoutBtn.disabled = false;
      checkoutBtn.style.backgroundColor = "#ffffff"; // –ü—Ä–∏–º–µ—Ä, –∑–¥–µ—Å—å –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–π —Ü–≤–µ—Ç
      checkoutBtn.style.cursor = "pointer";
    } else {
      checkoutBtn.disabled = true;
      checkoutBtn.style.backgroundColor = "#cccccc"; // –ü—Ä–∏–º–µ—Ä, –∑–¥–µ—Å—å –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–π —Ü–≤–µ—Ç
      checkoutBtn.style.cursor = "not-allowed";
    }
  }

  // –í—ã–∑—ã–≤–∞–µ–º –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  validateInput();
}

  window.onload = function () {
    loadProducts();
    displayProduct('combo-set');
    checkInputs();
   
    // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    var paymentModal = document.getElementById("paymentModal");
    var paymentBtn = document.getElementById("selectPaymentBtn");
    var paymentClose = document.getElementsByClassName("paymentClose")[0];

    // –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–∞ –∫–Ω–æ–ø–∫—É, –æ—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ 
    paymentBtn.onclick = function () {
      paymentModal.style.display = "block";
    }

    // –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–∞ <span> (x), –∑–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    paymentClose.onclick = function () {
      paymentModal.style.display = "none";
    }

    // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –≥–¥–µ-—Ç–æ –≤–Ω–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞, –∑–∞–∫—Ä—ã–≤–∞–µ–º –µ–≥–æ
    window.onclick = function (event) {
      if (event.target == paymentModal) {
        paymentModal.style.display = "none";
      }
    }

    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    window.setPaymentMethod = function (method) {
      paymentBtn.innerText = method;
      paymentModal.style.display = "none";
    }
  }
</script>
<script>
  function openProductModal(productType) {
    displayProduct(productType);
    document.getElementById('productModalContent').innerHTML = document.getElementById('productSection').innerHTML;
    document.getElementById('productModal').style.display = "block";
  }
  var productModal = document.getElementById('productModal');
  var productClose = document.getElementsByClassName('productClose')[0];

  productClose.onclick = function () {
    productModal.style.display = "none";
  };

  window.onclick = function (event) {
    if (event.target == productModal) {
      productModal.style.display = "none";
    }
  };
</script>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
  let tg = window.Telegram.WebApp;
  let checkoutBtn = document.getElementById("checkoutBtn")

checkoutBtn.addEventListener("click", function () {
  let paymentMethod = document.getElementById("selectPaymentBtn").innerText;
  let promoCode = document.getElementById("promoCode").value;
  let orderComment = document.getElementById("orderComment").value; // –ü–æ–ª—É—á–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∑–∞–∫–∞–∑—É
  let deliveryAddress = document.getElementById("deliveryAddress").value; // –ü–æ–ª—É—á–∞–µ–º –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏
  // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∏—Ç–æ–≥–æ–≤—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ—Ä–∑–∏–Ω—ã
  let totalPrice = cart.reduce((sum, item) => {
    return sum + (parseInt(item.price.replace(" ‚ÇΩ", "")) * item.quantity);
  }, 0);
  let productsInCart = cart.map(product => {
    return {
      name: product.name,
      quantity: product.quantity,
      price: product.price.replace(" ‚ÇΩ", "") // –£–¥–∞–ª—è–µ–º —Å–∏–º–≤–æ–ª –≤–∞–ª—é—Ç—ã
    }
  });

    tg.expand();
    let data = {
      promoCode: promoCode,
      orderComment: orderComment,
      deliveryAddress: deliveryAddress,
      productsInCart: productsInCart,
      totalPrice: totalPrice,
      paymentMethod: paymentMethod
    }
    tg.sendData(JSON.stringify(data));
    tg.close();

  });
</script>
<script>
  const slider = document.querySelector('.categories');
  let isDown = false;
  let startX;
  let scrollLeft;

  slider.addEventListener('mousedown', (e) => {
    isDown = true;
    slider.classList.add('active');
    startX = e.pageX - slider.offsetLeft;
    scrollLeft = slider.scrollLeft;
  });
  slider.addEventListener('mouseleave', () => {
    isDown = false;
    slider.classList.remove('active');
  });
  slider.addEventListener('mouseup', () => {
    isDown = false;
    slider.classList.remove('active');
  });
  slider.addEventListener('mousemove', (e) => {
    if (!isDown) return;
    e.preventDefault();
    const x = e.pageX - slider.offsetLeft;
    const walk = (x - startX) * 3; //scroll-fast
    slider.scrollLeft = scrollLeft - walk;
  });
</script>
<script>
  function openProductDescription(category, productIndex) {
    const product = products[category][productIndex];
    const productModal = document.getElementById('product-description-modal');

    document.getElementById('product-description-header').innerText = product.name;
    document.getElementById('product-description-content').innerText = product.description;
    document.getElementById('product-description-price').innerText = product.price;
    document.getElementById('product-description-img').src = product.img;

    productModal.style.display = "block";
  }

</script>
<script>
  function closeProductDescription() {
    document.getElementById('product-description-modal').style.display = "none";
  }

  window.onclick = function (event) {
    if (event.target == document.getElementById('product-description-modal')) {
      closeProductDescription();
    }
  }
</script>
<script>
  function openModal() {
  var modal = document.getElementById("myModal4");
  modal.style.display = "block";
}

function closeModal() {
  var modal = document.getElementById("myModal4");
  modal.style.display = "none";
}

function submitForm() {
  // –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ–ª–µ–π –≤–≤–æ–¥–∞
  var city = document.getElementById("cityInput").value;
  var street = document.getElementById("streetInput").value;
  var house = document.getElementById("houseInput").value;
  var building = document.getElementById("buildingInput").value;
  var entrance = document.getElementById("entranceInput").value;
  var intercom = document.getElementById("intercomInput").value;
  var apartment = document.getElementById("apartmentInput").value;
  var floor = document.getElementById("floorInput").value;
  var description = document.getElementById("descriptionInput").value;

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
  var deliveryAddress = city + ", " + street + ", " + house;
  if (building) {
    deliveryAddress += ", " + building;
  }
  if (entrance) {
    deliveryAddress += ", –ø–æ–¥—ä–µ–∑–¥ " + entrance;
  }
  if (intercom) {
    deliveryAddress += ", –∫–æ–¥ –¥–æ–º–æ—Ñ–æ–Ω–∞ " + intercom;
  }
  if (apartment) {
    deliveryAddress += ", –∫–≤. " + apartment;
  }
  if (floor) {
    deliveryAddress += ", —ç—Ç–∞–∂ " + floor;
  }
  closeModal();
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
  var deliveryAddressInput = document.getElementById("deliveryAddress");
  deliveryAddressInput.value = deliveryAddress;
  
  // –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –∫ –≥–µ–æ–∫–æ–¥–µ—Ä—É
  var requestUrl = "https://geocode-maps.yandex.ru/1.x/?apikey=1ea750ee-f842-4fbf-a439-6aaa3bb83c0b&format=json&geocode=" + deliveryAddress;

  // –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
  fetch(requestUrl)
    .then(function(response) {
      return response.json();
    })
    .then(function(data) {
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
      var coordinates = data.response.GeoObjectCollection.featureMember[0].GeoObject.Point.pos.split(' ');
      var latitude = coordinates[1];
      var longitude = coordinates[0];

      // –î–∞–ª—å–Ω–µ–π—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
      // ...
    })
    .catch(function(error) {
      console.log(error);
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
      // ...
    });
}
</script>
<script>
  document.getElementById('productSection').addEventListener('click', function(event) {
  // –ü–æ–ª—É—á–∏—Ç–µ –æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
  const target = event.target;

  // –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ —ç–ª–µ–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–æ –Ω–∞–∂–∞—Ç–∏–µ, –∫–ª–∞—Å—Å 'add-to-cart-btn'
  if (target.classList.contains('add-to-cart-btn')) {
    // –ü–æ–ª—É—á–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ç–æ–≤–∞—Ä–∞ –∏–∑ –∞—Ç—Ä–∏–±—É—Ç–∞ —ç–ª–µ–º–µ–Ω—Ç–∞
    const category = target.getAttribute('data-category');
    // –ü–æ–ª—É—á–∏—Ç–µ –∏–Ω–¥–µ–∫—Å —Ç–æ–≤–∞—Ä–∞ –∏–∑ –∞—Ç—Ä–∏–±—É—Ç–∞ —ç–ª–µ–º–µ–Ω—Ç–∞
    const index = target.getAttribute('data-index');
    
    // –í—ã–∑–æ–≤–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é addToCart —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π –∏ –∏–Ω–¥–µ–∫—Å–æ–º, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–º –≤ —á–∏—Å–ª–æ
    addToCart(category, parseInt(index));
  }
});
</script>
<script>
  // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∏–ª–µ–π –ø–æ–ª—è –≤–≤–æ–¥–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö
function setInputStyle(input) {
  if (input.value.trim() === '') {
    input.classList.remove('active-input');
    input.classList.add('inactive-input');
  } else {
    input.classList.remove('inactive-input');
    input.classList.add('active-input');
  }
}

// –í–µ—à–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–∏ –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–∏
document.getElementById("cityInput").addEventListener('input', function() { setInputStyle(this) });
document.getElementById("streetInput").addEventListener('input', function() { setInputStyle(this) });
document.getElementById("houseInput").addEventListener('input', function() { setInputStyle(this) });
document.getElementById("buildingInput").addEventListener('input', function() { setInputStyle(this) });
document.getElementById("entranceInput").addEventListener('input', function() { setInputStyle(this) });
document.getElementById("intercomInput").addEventListener('input', function() { setInputStyle(this) });
document.getElementById("apartmentInput").addEventListener('input', function() { setInputStyle(this) });
document.getElementById("floorInput").addEventListener('input', function() { setInputStyle(this) });
document.getElementById("descriptionInput").addEventListener('input', function() { setInputStyle(this) });

// –û–ë–Ω–æ–≤–ª–∏—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
document.getElementById("selectPaymentBtn").addEventListener('click', function() {
  // –í–∞—à –∫–æ–¥ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –æ–ø–ª–∞—Ç—ã
  // –ó–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å–ª–∏ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –≤—ã–±—Ä–∞–Ω
  if (this.innerText !== "–í—ã–±—Ä–∞—Ç—å —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã") {
    this.classList.remove('inactive-input');
    this.classList.add('active-input');
  }
});

// –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç–∏–ª–µ–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
setInputStyle(document.getElementById("cityInput"));
setInputStyle(document.getElementById("streetInput"));
setInputStyle(document.getElementById("houseInput"));
setInputStyle(document.getElementById("buildingInput"));
setInputStyle(document.getElementById("entranceInput"));
setInputStyle(document.getElementById("intercomInput"));
setInputStyle(document.getElementById("apartmentInput"));
setInputStyle(document.getElementById("floorInput"));
setInputStyle(document.getElementById("descriptionInput"));

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—è —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
setInputStyle(document.getElementById("selectPaymentBtn"));
</script>
<script>
function showPickupAddresses() {
  var modal = document.getElementById("myModal4"); // –ü–æ–ª—É—á–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞–¥—Ä–µ—Å–æ–≤ –¥–ª—è —Å–∞–º–æ–≤—ã–≤–æ–∑–∞
  var modalContent = modal.querySelector('.modal-content'); // –ü–æ–ª—É—á–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  modalContent.innerHTML += `
   
    <div class="pickup-addresses">
      <button class="ad1" onclick="selectPickupAddress('—É–ª. –°–∞–ª—é—Ç–Ω–∞—è, 9/2')">üìç —É–ª. –°–∞–ª—é—Ç–Ω–∞—è, 9/2</button>
      <button class="ad2" onclick="selectPickupAddress('—É–ª. –ú–æ–ª–æ–¥–æ–≥–≤–∞—Ä–¥–µ–π—Ü–µ–≤, 31–∞')">üìç —É–ª. –ú–æ–ª–æ–¥–æ–≥–≤–∞—Ä–¥–µ–π—Ü–µ–≤, 31–∞</button>
    </div>
  `;
  modal.style.display = "block"; // –û—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
}

function selectPickupAddress(address) {
  document.getElementById('deliveryAddress').value = address; // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å
  closeModal(); // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
}
function closeModal() {
  var modal = document.getElementById("myModal4");
  modal.style.display = "none";
}
window.onclick = function (event) {
  if (event.target == document.getElementById('myModal4')) {
    closeModal();
  }
}
// –î–æ–±–∞–≤—å—Ç–µ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –Ω–æ–≤–æ–π –∫–Ω–æ–ø–∫–∏ –°–∞–º–æ–≤—ã–≤–æ–∑
document.querySelector('.button-—Åode-for-pickup').addEventListener('click', showPickupAddresses);
</script>
</html>
